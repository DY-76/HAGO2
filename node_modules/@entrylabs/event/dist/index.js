function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}export default(function(){function r(e){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t(this,"_dom",void 0),t(this,"_data",void 0),t(this,"on",function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?(e.trim().split(" ").forEach(function(e){var o=r.elementMap.get(n.dom)||{};o[e]?o[e].push(t):o[e]=[t],r.elementMap.set(n.dom,o),n.addEvent(e,t,i)}),n):n}),!e)throw new Error("dom is undefined");r.elementMap||(r.elementMap=new Map),this.dom=e}var i,o,a;return i=r,(o=[{key:"destroy",value:function(){this.off(),this._data=null,this._dom=null}},{key:"off",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.trim().split(" ").forEach(function(t){var a=r.elementMap.get(e.dom)||{};Object.entries(a).forEach(function(r){var u=n(r,2),f=u[0],l=u[1],v=(void 0===l?[]:l).filter(function(r){if(!i||i===r){if(t===f)return e.removeEvent(t,r,o),!1;if(""===t)return e.removeEvent(f,r,o),!1;if(f.indexOf(".")>-1&&-1===t.indexOf(".")){var a=n(f.split("."),2),u=a[0],l=a[1],v=void 0===l?"":l,d=n(e.getEventName(t),2),c=d[0],s=d[1];if(c===u||s===v)return e.removeEvent(f,r,o),!1}}return!0});v.length?a[f]=v:delete a[f]}),r.elementMap.set(e.dom,a)}),this}},{key:"getType",value:function(e){return e.split(".")[0]}},{key:"getEventName",value:function(e){return e.indexOf(".")>-1?e.split("."):[e,e]}},{key:"addEvent",value:function(e,t,n){this.dom.addEventListener(this.getType(e),t,n)}},{key:"removeEvent",value:function(e,t,n){this.dom.removeEventListener(this.getType(e),t,n)}},{key:"trigger",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return console.warn("%cEntryEvent: %ctype argument empty","color: blue; font-weight: bold;","");var o=r.elementMap.get(this.dom)||{};Object.entries(o).forEach(function(r){var o=n(r,2),a=o[0],u=o[1],f=void 0===u?[]:u,l=!1;if(e===a)l=!0;else if(a.indexOf(".")>-1&&-1===e.indexOf(".")){var v=n(a.split("."),2),d=v[0],c=v[1],s=void 0===c?"":c,h=n(t.getEventName(e),2),m=h[0],p=h[1];m===d&&p===s&&(l=!0)}l&&f.forEach(function(e){return e(i)})})}},{key:"dom",set:function(e){this._dom=e},get:function(){return this._dom}},{key:"data",set:function(e){this._data=e},get:function(){return this._data}}])&&e(i.prototype,o),a&&e(i,a),r}());
//# sourceMappingURL=index.js.map
